---
title: "scratch"
---


```{r}
library(plm)
library(tidyverse)
```

```{r}
data("Produc", package = "plm")
Produc
zz <- plm(log(gsp) ~ log(pcap) + log(pc) + log(emp) + unemp,
          data = Produc, index = c("state","year"))
summary(zz)
fixef(zz)
```



```{r}
data <- read.csv("data_StockUse.csv")

data <- data %>% select(-c(1,2,3)) %>% 
  select(-c(2:31)) %>% 
  select(-c(14)) %>% 
  select(-c(Date.Month, Date.1)) %>% 
  pivot_longer(        cols = starts_with("Basis"), 
                        names_to = "Commodity", 
                        values_to = "Value") %>% 
  mutate(Commodity_Type = case_when(
    str_detect(Commodity, "CORN") ~ "Corn",
    str_detect(Commodity, "SOYBEANS") ~ "Soybeans",
    TRUE ~ "Unknown" # Fallback in case there are other types
  )) %>% 
  filter(Commodity_Type == "Corn")
```




```{r}
zz <- plm(Value ~ HDF + Fuel.Ethanol.Production..Thousand.Barrels.,
          data = data, index = c("Commodity"))
summary(zz)
fixef(zz)
```

